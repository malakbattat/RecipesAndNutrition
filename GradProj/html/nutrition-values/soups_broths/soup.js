    const nutritionData = {
        onion_soup_dry_mix: { calories: 322, fat: 1.9, protein: 7.3, energy: 2.2 },
        onion_soup_canned_concentrated: { calories: 15, fat: 0.3, protein: 0.4, energy: 1.7 },
        cheese_soup_canned_milk: { calories: 56, fat: 3.1, protein: 2.5, energy: 4.1 },
        crab_soup_canned_ready: { calories: 42, fat: 0.6, protein: 2.6, energy: 1.0 },
        tomato_beef_noodle_soup_canned_concentrated: { calories: 11, fat: 0.1, protein: 0.6, energy: 2.5 },
        mushroom_soup_dry_mix_water: { calories: 71, fat: 3.7, protein: 1.8, energy: 2.7 },
        mushroom_beef_soup_canned_concentrated: { calories: 21, fat: 0.8, protein: 1.2, energy: 2.5 },
        green_pea_soup_canned_concentrated: { calories: 13, fat: 0.1, protein: 0.7, energy: 2.7 },
        turkey_noodle_soup_canned_concentrated: { calories: 11, fat: 0.2, protein: 0.7, energy: 2.0 },
        cream_vegetable_soup_dry_powdered: { calories: 489, fat: 31.1, protein: 7.6, energy: 2.7 },
        cheese_soup_canned_concentrated: { calories: 83, fat: 5.7, protein: 2.5, energy: 2.9 },
        chicken_rice_soup_dry_mix_water: { calories: 19, fat: 0.7, protein: 0.7, energy: 2.3 },
        chicken_rice_soup_canned_thick_ready: { calories: 43, fat: 1.7, protein: 1.9, energy: 3.3 },
        chicken_vegetable_soup_thick_canned_ready: { calories: 47, fat: 1.2, protein: 1.5, energy: 3.2 },
        chicken_vegetable_soup_canned_concentrated: { calories: 12, fat: 0.4, protein: 0.6, energy: 2.2 },
        chicken_mushroom_soup_canned_concentrated: { calories: 18, fat: 0.9, protein: 0.8, energy: 2.1 },
        chicken_noodle_soup_dry_mix: { calories: 350, fat: 4.2, protein: 11.8, energy: 3.2 },
        chicken_soup_canned_thick_ready: { calories: 43, fat: 1.4, protein: 2.1, energy: 3.4 },
        tomato_rice_soup_canned_concentrated: { calories: 14, fat: 0.1, protein: 0.4, energy: 2.8 },
        tomato_vegetable_soup_dry_mix: { calories: 376, fat: 4.5, protein: 13.2, energy: 2.8 },
        tomato_soup_low_sodium_water: { calories: 27, fat: 0.1, protein: 0.7, energy: 3.9 },
        tomato_soup_canned_concentrated: { calories: 23, fat: 0.3, protein: 0.7, energy: 3.7 },
        black_bean_soup_canned_concentrated: { calories: 10, fat: 0.1, protein: 0.6, energy: 2.7 },
        bean_soup_frankfurter_sausage_canned_concentrated: { calories: 25, fat: 0.8, protein: 1.2, energy: 2.6 },
        clam_chowder_soup_canned_concentrated: { calories: 29, fat: 1.2, protein: 1.2, energy: 3.4 },
        thick_chicken_noodle_soup_canned_ready: { calories: 34, fat: 1.1, protein: 1.8, energy: 2.8 },
        thick_vegetable_soup_canned_ready: { calories: 31, fat: 0.9, protein: 1.3, energy: 3.2 },
        vegetarian_vegetable_soup_canned_concentrated: { calories: 15, fat: 0.1, protein: 0.6, energy: 2.8 },
        vegetable_beef_soup_canned_concentrated: { calories: 20, fat: 0.5, protein: 1.0, energy: 3.2 },
        vegetable_soup_canned_low_sodium_concentrated: { calories: 12, fat: 0.2, protein: 0.5, energy: 2.2 },
        shark_fin_soup_restaurant: { calories: 33, fat: 1.6, protein: 1.1, energy: 3.6 },
        cream_onion_soup_canned_concentrated: { calories: 16, fat: 0.7, protein: 0.5, energy: 2.0 },
        cream_potato_soup_canned_concentrated: { calories: 25, fat: 0.9, protein: 0.6, energy: 2.3 },
        cream_shrimp_soup_canned_concentrated: { calories: 23, fat: 0.7, protein: 0.6, energy: 2.2 },
        cream_chicken_soup_dry_mix_water: { calories: 12, fat: 0.6, protein: 0.4, energy: 2.5 },
        cream_mushroom_soup_low_sodium_canned: { calories: 17, fat: 0.9, protein: 0.4, energy: 2.1 },
        cream_mushroom_soup_canned_concentrated: { calories: 15, fat: 0.8, protein: 0.5, energy: 2.0 },
        cream_asparagus_soup_canned_concentrated: { calories: 10, fat: 0.4, protein: 0.4, energy: 2.2 },
        chicken_broth_dry: { calories: 7, fat: 0.3, protein: 0.8, energy: 0.0 },
        chicken_broth_dry_water: { calories: 2, fat: 0.1, protein: 0.2, energy: 0.0 },
        chicken_broth_canned_ready: { calories: 4, fat: 0.2, protein: 0.4, energy: 0.0 },
        chicken_broth_canned_concentrated: { calories: 9, fat: 0.3, protein: 1.1, energy: 2.5 },
        beef_broth_cubes_dry: { calories: 8, fat: 0.2, protein: 1.1, energy: 2.5 },
        fish_broth_homemade: { calories: 2, fat: 0.1, protein: 0.2, energy: 0.5 },
        chicken_broth_cubes_dry: { calories: 5, fat: 0.1, protein: 0.8, energy: 0.5 },
        chicken_vegetable_soup_thick_low_fat_sodium: { calories: 40, fat: 0.8, protein: 1.6, energy: 2.5 },
        cheese_sauce_ready: { calories: 73, fat: 6.5, protein: 2.5, energy: 2.5 },
        plum_sauce_ready: { calories: 49, fat: 0.2, protein: 0.3, energy: 2.5 },
        pizza_sauce_canned_ready: { calories: 29, fat: 0.7, protein: 1.1, energy: 2.5 },
        teriyaki_sauce_ready: { calories: 89, fat: 0.2, protein: 3.5, energy: 2.5 },
        teriyaki_sauce_ready_low_sodium: { calories: 74, fat: 0.1, protein: 3.2, energy: 2.5 },
        pepper_sauce_ready: { calories: 12, fat: 0.6, protein: 0.2, energy: 2.5 },
        fish_sauce_ready: { calories: 25, fat: 0.2, protein: 5.6, energy: 2.5 },
        barbecue_sauce: { calories: 39, fat: 0.1, protein: 0.3, energy: 2.5 },
        soy_vinegar_spicy_sauce: { calories: 48, fat: 0.1, protein: 2.2, energy: 2.5 },
        sauce_ready: { calories: 35, fat: 0.2, protein: 1.2, energy: 2.5 },
        oyster_sauce_ready: { calories: 51, fat: 0.1, protein: 0.9, energy: 2.5 },
        pasta_sauce_spaghetti_marinara_ready: { calories: 38, fat: 0.9, protein: 1.5, energy: 2.5 },
        hoisin_sauce_ready: { calories: 89, fat: 1.3, protein: 0.8, energy: 2.5 },
        broth_au_jus_dry: { calories: 25, fat: 0.1, protein: 0.4, energy: 2.5 },
        onion_broth_dry_mix: { calories: 27, fat: 0.3, protein: 0.9, energy: 2.5 },
        brown_broth_dry: { calories: 24, fat: 0.2, protein: 0.9, energy: 2.5 },
        chicken_broth_dry: { calories: 8, fat: 0.1, protein: 0.5, energy: 2.5 },
        chicken_broth_canned_ready: { calories: 1, fat: 0.1, protein: 0.4, energy: 2.5 },
        turkey_broth_canned_ready: { calories: 1, fat: 0.1, protein: 0.2, energy: 2.5 },
        vegetable_broth_canned_ready: { calories: 2, fat: 0.1, protein: 0.3, energy: 2.5 },
        vegetable_broth_canned_ready_no_salt: { calories: 1, fat: 0.1, protein: 0.1, energy: 2.5 }
    };

    document.getElementById('nutrition-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const foodItem = document.getElementById('food-item').value;
        const quantity = parseFloat(document.getElementById('quantity').value);
        const measurement = document.getElementById('measurement').value;

        if (!foodItem || !quantity || !measurement) return;

        const nutrition = nutritionData[foodItem];

        if (!nutrition) return;

        const calories = nutrition.calories * quantity / 100;
        const fat = nutrition.fat * quantity / 100;
        const protein = nutrition.protein * quantity / 100;

        document.getElementById('calories').textContent = `Calories: ${calories.toFixed(2)} kcal`;
        document.getElementById('fat').textContent = `Fat: ${fat.toFixed(2)} g`;
        document.getElementById('protein').textContent = `Protein: ${protein.toFixed(2)} g`;

        const ctx = document.getElementById('nutritionChart').getContext('2d');

        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['Calories (kcal)', 'Fat (g)', 'Protein (g)'],
                datasets: [{
                    data: [calories, fat, protein],
                    backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56'],
                    hoverBackgroundColor: ['#FF6384', '#36A2EB', '#FFCE56']
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(tooltipItem) {
                                return `${tooltipItem.label}: ${tooltipItem.raw.toFixed(2)}`;
                            }
                        }
                    }
                }
            }
        });

        document.getElementById('results').classList.remove('hidden');
    });
